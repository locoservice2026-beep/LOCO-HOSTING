<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Registrieren — LOCO Hosting</title>
    <style>
      body{font-family:Inter,Arial;margin:0;padding:0;display:flex;align-items:center;justify-content:center;height:100vh;background:#0f172a;color:#e2e8f0}
      .card{background:#0b1220;padding:28px;border-radius:12px;box-shadow:0 6px 30px rgba(2,6,23,.6);width:380px}
      input{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #233446;background:#071028;color:#e6eef8}
      button{width:100%;padding:10px;margin-top:12px;border-radius:6px;border:0;background:#0ea5a3;color:#012;cursor:pointer}
      h1{margin:0 0 10px 0;font-size:20px}
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Registrieren</h1>
      <input id="firstname" placeholder="Vorname" />
      <input id="lastname" placeholder="Nachname" />
      <input id="email" placeholder="E‑Mail" />
      <input id="password" type="password" placeholder="Passwort" />
      <button id="register">Registrieren & Code senden</button>
      <p style="font-size:12px;margin-top:8px;color:#9fb0c8">Nach dem Absenden erhältst du einen 6‑stelligen Code per E‑Mail.</p>
      <div id="msg" style="margin-top:8px;font-size:13px;color:#f1f1f1"></div>
    </div>
    <script>
      document.getElementById('register').onclick = async () => {
        const firstname = document.getElementById('firstname').value;
        const lastname = document.getElementById('lastname').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const res = await fetch('/api/register', {method:'POST', headers:{'content-type':'application/json'}, body:JSON.stringify({firstname,lastname,email,password})});
        const data = await res.json();
        document.getElementById('msg').textContent = JSON.stringify(data);
        if (data.ok) location.href = '/verify.html?email=' + encodeURIComponent(email);
      }
    </script>
  </body>
</html>
